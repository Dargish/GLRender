<?xml version='1.0' encoding='us-ascii'?>
<shader version="400">
  <struct name="GBufferData">
    <value name="Color" type="vec3"/>
    <value name="Normal" type="vec3"/>
    <value name="Roughness" type="float"/>
    <value name="Metallicity" type="float"/>
  </struct>
  <function name="ReadGBuffer" return="GBufferData">
    <uniform type="sampler2D">g_A</uniform>
    <uniform type="sampler2D">g_B</uniform>
    <input type="vec2">uv</input>
    <source>
      GBufferData data;
      vec4 A = texture(g_A, uv);
      vec4 B = texture(g_B, uv);
      data.Color = A.rgb;
      data.Roughness = A.a;
      data.Normal = normalize(B.rgb);
      data.Metallicity = B.a;
      return data;
    </source>
  </function>
</shader>
